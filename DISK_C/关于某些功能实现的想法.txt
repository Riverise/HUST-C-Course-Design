1.如何实现信号闪烁灯？
只需要在合适的时候将按钮圆形线条改成蓝色

2.如何自己编写头文件？

#ifndef x                 //先测试x是否被宏定义过
#define x
   - -       //如果x没有被宏定义过，定义x，并编译程序段 1
#endif   
　  - -　　 //如果x已经定义过了则编译程序段2的语句，“忽视”程序段 1




 #ifndef, #define, #endif 是编译器指令，为了防止重复包含头文件，最好将所有声明置于 #ifndef ... #endif 区块中。

_ADD_H_ 是头文件标识符，为了保持唯一性，一般为头文件名大写，并将其中的句点替换为下划线，同时前后各加一条下划线；条件指示符#ifndef 的最主要目的是防止头文件的重复包含和编译.

3.问题记录：
为什么鼠标形状恢复不了（已解决）

4.需要学习页面切换
根据鼠标的点击，更新pagecondition的值，根据pagecondition的值，进入不同的画图函数。

5.如何实现局部清除
拿块背景色盖住就行

6.如何实现开门动画
画5个不同大小的矩形，每次delay200，这样也可以较快地实现

7.电梯全局思考：

欢迎界面 ：两个模式
		 乘客模式（第一视角）& 全局模式（第三视角）
乘客模式：侧重对现实世界的模拟
		程序操纵者为唯一乘客，双电梯默认为在一层，运行调度模式较为简单（因为只有一名乘客）
全局模式：侧重对电梯调度系统的体现（调度模式复杂）

8.pagenum=1 welcome界面		welcome()
  pagenum=2	乘客模式说明界面	 intro1()
  pagenum=3



9. 窗口分辨率640*480

10.用liftsys结构体中的成员call[12]数组来记录每一层的呼应情况

而画图函数drawpage()中的画箭头函数中的第三个参数color，传进来的值正是call[i]，在画箭头函数中使用if语句根据不同的call值即不同的呼应情况，即可实现根据电梯呼应情况画上不同的颜色

11.我需要做到

在控制页面点击按钮（楼层数 + 上/下），同时根据按下的按钮调整电梯结构体中的参数，传给电梯系统输入的信息也就是calls

在控制页面点击确认后自动跳转至全局页面，电梯开始运行至呼叫楼层（动画）

同时全局模式右侧显示呼叫信息，每完成一个呼叫，就恢复一个变色

分析电梯系统中传入的信息call[i]，双电梯自动运行到呼叫楼层

双电梯运行到呼叫楼层后，自动出现目标楼层按钮（没有上下按钮）（新的一页），按完目标楼层后确认，自动返回到全局模式界面

电梯再次开始运行，从呼叫楼层运行到目标楼层（动画），同时全局模式中间栏楼层数字变色，体现目标楼层，每完成一个目标，就恢复一个变色

在全局模式中体现双电梯调度的动画（），包含 两座电梯楼层数的变化，电梯的上下移动

UPDATE:
采用等效时间法将呼叫调度给时间最短的电梯（代码实现，分析每台电梯的等效时间，时间短者设置其pstop[i]为1，i为呼叫楼层），然后


12.应该如何根据电梯所处位置与它被安排到的相应楼层 确定合适的lift.condition的设置

--由静止状态首次确定时由离电梯当前位置最近的待响应楼层确定，若离电梯最近的楼层在其下方，则condition=-1；反之，condition=1

--确定离电梯电梯当前位置最近的带相应楼层的方法：计算所有待相应楼层(pstop[i]为1对应的楼层数i)减去cur的绝对值，找出最小的那个，再比较最小距离对应的楼层与cur；

--首次确定后，电梯按照这个方向运行到有内选/外召的最高/低楼层，若有未完成的反方向的请求，condition变号，若无，则置零，电梯进入静止状态，之后再出现更高/更低的请求，已经是新一轮呼应了。

13.如何实现电梯运行到condition 方向的&&有外召/内选的 最高/最低楼层后静止，下一次再反向运行。


condition确定后，lift.cur沿着这一方向逐渐++/--，遇到pstop[i]为0的楼层，直接略过（当然，动画要体现），遇到pstop[i]为1的楼层，暂停，进入内选界面，通过鼠标点击确定内选目标楼层（改变path的值为1），内选完成后，将这一楼层的pstop置零，同时目标楼层变绿，cur仍然沿着condition的方向**/--，直到遇到下一个pstop为1或path为1的楼层，pstop为1则进入内选界面，path为1则表示完成输送，变绿的目标楼层恢复原色。

以向上为例，如何说明电梯运行到有外召或内选的最高楼层了呢？
--用cur减去最大的 pstop【i】为1对应的i 与最大的path【i】为1对应的i，若大于或等于0，则说明此。

14.动画主要有：
1.电梯（上下移动）：使用for循环，先使用bar函数覆盖掉原来的电梯，再用画电梯和画箭头函数画一个电梯，再delay一小段时间）

2.path楼层灯的亮灭（由画图函数中的一个参数控制，将lift.path[i]传进去，为1则亮，为0则灭，path[i]在内部左键则亮，右键则取消点亮，当电梯运行到i层时，则将path[i]置零）

3.call楼层灯的亮灭（由画图函数中的一个参数控制，将lift.call[i]传进去，为1/-1则亮，为0则灭，call[i]在外部caliing界面控制为1/-1/3,当电梯运行到i层时，将call[i]置零）

4.电梯上部数字的变化(直接将lift.cur转化为字符串，以字符串的形式由outtextxy画出)

5.电梯上下移动时上下箭头的亮灭（由画图函数中的一个参数控制，将lift.condition传进去，为1/-1则亮，为0则灭）

15.电梯根据指令上下平移动画的具体想法：


如果电梯向上运动，那么电梯就需要从电梯当前所在位置向上移动到有外召或内选的最高楼层记为Max，中途遇到pstop[i]==1/3的，就要进入内选界面，通过鼠标点击确定内选目标【改变path[i]的值】，然后将pstop[i]置零；遇到path[i]=1的，就要停靠一会，然后再将其置零，表示已经受理

i要从lift.cur开始，一直运动Max（这是一个循环遍历），同时在循环体中，lift.cur与Max也会随着程序的运行而发生变化

16.2023/4/14
流程框架在脑中实现，均无问题，现在只需要在cartoon源文件中写好左右电梯上下运动时的代码，（左电梯向上运动的伪代码已写完，剩下的只需要具体化与仿写即可）。

16.可以优化界面，再电梯上方加缆绳，水平线就作为背景，竖直线就用函数画，输入电梯上部的纵坐标

17.切换界面时电梯的位置只能实现近似保持不动
































